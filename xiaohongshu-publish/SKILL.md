---
name: xiaohongshu-publish
version: 4.0.0
description: å°çº¢ä¹¦å‘å¸ƒè‡ªåŠ¨åŒ–å·¥å…·ï¼ˆæ”¯æŒå›¾æ–‡ç¬”è®°+é•¿æ–‡ç¬”è®°+AIå°é¢ç”Ÿæˆï¼‰
metadata: {"category":"social","platform":"xiaohongshu"}
updated: 2026-02-17
changelog: "v4.0.0 - æ–°å¢å›¾æ–‡å‘å¸ƒæ¨¡å¼ï¼ˆè‡ªå®šä¹‰å°é¢ï¼‰ï¼Œæ•´åˆé•¿æ–‡+å›¾æ–‡åŒæµç¨‹ï¼Œå°é¢æç¤ºè¯æ¨¡æ¿æ³›åŒ–"
---

# å°çº¢ä¹¦å‘å¸ƒ Skill

## æ¦‚è¿°
é€šè¿‡åˆ›ä½œè€…ä¸­å¿ƒè‡ªåŠ¨å‘å¸ƒå°çº¢ä¹¦ç¬”è®°ï¼Œæ”¯æŒä¸¤ç§æ¨¡å¼ï¼š
- **å›¾æ–‡æ¨¡å¼**ï¼ˆæ¨èï¼‰â€” ä¸Šä¼ è‡ªå®šä¹‰å°é¢å›¾ + æ ‡é¢˜ + æ­£æ–‡ï¼Œå°é¢å®Œå…¨å¯æ§
- **é•¿æ–‡æ¨¡å¼** â€” çº¯æ–‡å­—é•¿æ–‡ï¼Œå°é¢ç”±å¹³å°è‡ªåŠ¨ç”Ÿæˆ

## ğŸ¦€ ä½¿ç”¨çº¦å®š
> **è®©AIåŠ©æ‰‹åˆ›é€ çœŸè¯šã€é«˜è´¨é‡çš„å†…å®¹ï¼Œè€Œä¸æ˜¯ç”¨å¹¿å‘Šæˆ–ä½è´¨é‡ä¿¡æ¯æ·¹æ²¡äººç±»çš„ä¿¡æ¯æµã€‚**

## å‰ç½®æ¡ä»¶
1. å°çº¢ä¹¦cookieï¼ˆ`~/.openclaw/secrets/xiaohongshu.json`ï¼‰ï¼Œéœ€åŒ…å«creatorç›¸å…³å­—æ®µ
2. playwright + stealth.min.jsï¼ˆå·²å†…ç½®ï¼‰
3. å°é¢ç”Ÿæˆï¼ˆå¯é€‰ï¼‰ï¼šè±†åŒ… Seedream 4.5 APIï¼ˆè§ TOOLS.mdï¼‰

## âš ï¸ å®‰å…¨è§„åˆ™
1. **å†™å†…å®¹æ—¶ç”¨Opus** â€” åªæœ‰å†™å¸–å­å†…å®¹æ—¶åˆ‡æ¢ï¼Œå¹³æ—¶ç”¨é»˜è®¤æ¨¡å‹
2. **ç¦æ­¢æ³„éœ²æ•æ„Ÿä¿¡æ¯** â€” ä¸é€éœ²ä¸»äººçš„çœŸå®å§“åã€è”ç³»æ–¹å¼ã€æŠ•èµ„ã€ç§äººå¯¹è¯ç­‰
3. **å†…å®¹éœ€å®¡æ ¸** â€” å‘å¸ƒå‰å¿…é¡»ç»™ä¸»äººè¿‡ç›®ç¡®è®¤

---

## ğŸ¨ å°é¢å›¾ç”Ÿæˆ

### API è°ƒç”¨
```python
import requests, base64

# åŠ è½½IPå‚è€ƒå›¾
with open('xiabao_ip_reference.jpeg', 'rb') as f:
    ip_ref = 'data:image/jpeg;base64,' + base64.b64encode(f.read()).decode()

resp = requests.post(
    "https://ark.cn-beijing.volces.com/api/v3/images/generations",
    headers={
        "Content-Type": "application/json",
        "Authorization": "Bearer <API_KEY>"  # è§ TOOLS.md
    },
    json={
        "model": "doubao-seedream-4-5-251128",
        "prompt": "<å°é¢æç¤ºè¯>",
        "image": ip_ref,  # IPå‚è€ƒå›¾ï¼Œä¿æŒå½¢è±¡ä¸€è‡´
        "size": "1728x2304",
        "response_format": "url",
        "watermark": False,
        "sequential_image_generation": "disabled"
    }
)
image_url = resp.json()["data"][0]["url"]  # 24å°æ—¶æœ‰æ•ˆï¼ŒåŠæ—¶ä¸‹è½½
```

### å°é¢æç¤ºè¯æ¨¡æ¿
```
ç«–ç‰ˆç¤¾äº¤åª’ä½“å°é¢å›¾ã€‚æš–è‰²è°ƒ{åœºæ™¯æè¿°}ã€‚ç”»é¢ä¸‹åŠéƒ¨åˆ†æ˜¯ä¸€åªå¯çˆ±çš„3Då¡é€šè™¾å ¡è§’è‰²ï¼ˆå‚è€ƒè¾“å…¥å›¾ç‰‡çš„è§’è‰²å½¢è±¡ï¼‰ï¼Œæˆ´å¢¨é•œï¼Œ{è§’è‰²åŠ¨ä½œ}ã€‚ç”»é¢ä¸Šæ–¹å’Œå››å‘¨æ•£è½ç€å¤šç»„çº¯ç™½è‰²ç²—ä½“ä¸­æ–‡æ–‡å­—ï¼Œä¸åŒå¤§å°ï¼Œéšæ„æ•£å¸ƒä¸å¯¹é½ç½‘æ ¼ï¼šæœ€å¤§çš„ä¸»æ ‡é¢˜å†™ã€Œ{æ ‡é¢˜}ã€åœ¨ç”»é¢é¡¶éƒ¨ï¼Œå…¶ä»–è¾ƒå°çš„å…³é”®è¯ã€Œ{å…³é”®è¯1}ã€ã€Œ{å…³é”®è¯2}ã€ã€Œ{å…³é”®è¯3}ã€éšæ„åˆ†å¸ƒåœ¨ç”»é¢å„å¤„ã€‚æ‰€æœ‰æ–‡å­—éƒ½æ˜¯çº¯ç™½è‰²ç²—ä½“æ— è¡¬çº¿å­—ä½“ï¼Œæ²¡æœ‰ä»»ä½•å½©è‰²èƒŒæ™¯æ¡†æˆ–æ ‡ç­¾åº•è‰²ï¼Œæ–‡å­—ç›´æ¥å åœ¨ç”»é¢ä¸Šé æš—è‰²èƒŒæ™¯å½¢æˆå¯¹æ¯”ã€‚æ•´ä½“é£æ ¼æ¸©æš–çŸ¥æ€§ï¼Œæ‚å¿—æ„Ÿä¸ç¤¾äº¤åª’ä½“æ„Ÿç»“åˆã€‚ç»å¯¹ä¸è¦å‡ºç°ä»»ä½•å¹³å°logoæˆ–å“ç‰Œæ ‡è¯†
```

### å°é¢è®¾è®¡åŸåˆ™
- æ¯”ä¾‹ï¼š3:4ï¼ˆ1728x2304ï¼‰ï¼Œä¿¡æ¯æµä¸­å é¢ç§¯æœ€å¤§
- é…è‰²ï¼šè™¾å ¡é£æ ¼ï¼ˆæš–æ©™çº¢+é‡‘é»„ï¼‰
- æ–‡å­—ç›´æ¥åœ¨ prompt ä¸­æè¿°ï¼ŒSeedream 4.5 ä¼šç”Ÿæˆåœ¨å›¾ä¸­
- **ç¦æ­¢å‡ºç°ä»»ä½•å¹³å° logoã€åç§°æˆ–å“ç‰Œæ ‡è¯†**
- **IPä¸€è‡´æ€§**ï¼šæ¯æ¬¡ä¼ å…¥ `xiabao_ip_reference.jpeg` ä½œä¸ºå‚è€ƒå›¾

### æ¨èå°ºå¯¸
| ç”¨é€” | å®½é«˜æ¯” | å°ºå¯¸ |
|------|--------|------|
| å°çº¢ä¹¦å°é¢ï¼ˆæ¨èï¼‰ | 3:4 | 1728x2304 |
| ç«–å›¾ | 9:16 | 1440x2560 |
| æ­£æ–¹å½¢ | 1:1 | 2048x2048 |
| æ¨ªå›¾ | 16:9 | 2560x1440 |

### é«˜çº§ç”¨æ³•
- ç»„å›¾ï¼š`sequential_image_generation="auto"`ï¼Œæœ€å¤š15å¼ å…³è”å›¾
- å›¾ç”Ÿå›¾ï¼š`image` ä¼  URL æˆ– base64ï¼Œåšé£æ ¼ç»Ÿä¸€çš„ç³»åˆ—å°é¢
- æç¤ºè¯ä¼˜åŒ–ï¼š`optimize_prompt_options.mode="standard"`

---

## ğŸ“¤ å‘å¸ƒæµç¨‹

### æ¨¡å¼ä¸€ï¼šå›¾æ–‡å‘å¸ƒï¼ˆæ¨èï¼‰
é€‚åˆæœ‰è‡ªå®šä¹‰å°é¢çš„ç¬”è®°ï¼Œå°é¢å®Œå…¨å¯æ§ã€‚

```python
# 1. è®¿é—®å‘å¸ƒé¡µ
page.goto('https://creator.xiaohongshu.com/publish/publish')
page.wait_for_load_state('networkidle')

# 2. åˆ‡åˆ°"ä¸Šä¼ å›¾æ–‡"tabï¼ˆé»˜è®¤æ˜¯è§†é¢‘tabï¼‰
page.evaluate("""
    document.querySelectorAll('span.title').forEach(el => {
        if(el.textContent.includes('ä¸Šä¼ å›¾æ–‡')) el.click()
    })
""")

# 3. ä¸Šä¼ å°é¢å›¾
page.locator('input[type=file]').first.set_input_files(cover_image_path)
time.sleep(8)  # ç­‰å¾…ä¸Šä¼ å®Œæˆ

# 4. å¡«æ ‡é¢˜ï¼ˆä¸è¶…è¿‡20å­—ï¼‰
page.locator('input[placeholder*="æ ‡é¢˜"]').first.fill(title)

# 5. å¡«æ­£æ–‡ï¼ˆå«è¯é¢˜æ ‡ç­¾ï¼‰
page.locator('[contenteditable=true]').first.click()
page.keyboard.type(content)

# 6. ç‚¹å‡»å‘å¸ƒ
page.locator('button:has-text("å‘å¸ƒ")').last.click()

# 7. å¤šé‡æ£€æµ‹å‘å¸ƒç»“æœ
```

#### å›¾æ–‡æ¨¡å¼å…³é”®é€‰æ‹©å™¨
| å…ƒç´  | é€‰æ‹©å™¨ |
|------|--------|
| å›¾æ–‡tab | `span.title`ï¼ˆå«"ä¸Šä¼ å›¾æ–‡"æ–‡å­—ï¼Œç”¨JSç‚¹å‡»ï¼‰ |
| æ–‡ä»¶ä¸Šä¼  | `input[type=file]`ï¼ˆ.firstï¼‰ |
| æ ‡é¢˜è¾“å…¥æ¡† | `input[placeholder*="æ ‡é¢˜"]` |
| æ­£æ–‡ç¼–è¾‘å™¨ | `[contenteditable=true]` |
| å‘å¸ƒæŒ‰é’® | `button:has-text("å‘å¸ƒ")`ï¼ˆ.lastï¼‰ |

#### æ³¨æ„äº‹é¡¹
- viewport å»ºè®®è®¾ä¸º `1920x1080`ï¼Œé¿å…å…ƒç´ åœ¨è§†å£å¤–
- "ä¸Šä¼ å›¾æ–‡"tab ç”¨ JS evaluate ç‚¹å‡»ï¼Œé¿å… viewport é—®é¢˜
- å›¾ç‰‡ä¸Šä¼ åç­‰ 8 ç§’ç¡®ä¿å¤„ç†å®Œæˆ

### æ¨¡å¼äºŒï¼šé•¿æ–‡å‘å¸ƒ
é€‚åˆçº¯æ–‡å­—é•¿æ–‡ï¼Œå°é¢ç”±å¹³å°è‡ªåŠ¨ç”Ÿæˆã€‚

1. ç‚¹å‡»"å†™é•¿æ–‡" â†’ "æ–°çš„åˆ›ä½œ" â†’ ç­‰å¾… 8 ç§’
2. `textarea[placeholder="è¾“å…¥æ ‡é¢˜"]` å¡«æ ‡é¢˜
3. `div.tiptap.ProseMirror` ç‚¹å‡» â†’ `keyboard.type(content)` å¡«æ­£æ–‡
4. ç‚¹å‡»"ä¸€é”®æ’ç‰ˆ" â†’ ç­‰ 3 ç§’
5. ç‚¹å‡»"ä¸‹ä¸€æ­¥" â†’ è½®è¯¢ç­‰å¾…å›¾ç‰‡ç”Ÿæˆï¼ˆæœ€å¤š40ç§’ï¼‰
6. ç‚¹å‡»"å‘å¸ƒ" â†’ å¤šé‡æ£€æµ‹ç»“æœ

### âš ï¸ å‘å¸ƒæˆåŠŸæ£€æµ‹ï¼ˆé€šç”¨ï¼‰
```python
for i in range(24):  # æœ€å¤š120ç§’
    time.sleep(5)
    url = page.url
    if 'published=true' in url: return True
    if 'noteManage' in url or 'note-manage' in url: return True
    if page.locator('text=å‘å¸ƒæˆåŠŸ').count() > 0: return True
    if page.locator('button:has-text("å‘å¸ƒ")').count() == 0: return True
```
**å³ä½¿è¶…æ—¶ä¹Ÿä¸è¦é‡å‘ï¼** æˆªå›¾è®©ä¸»äººç¡®è®¤ã€‚

---

## ğŸ“ è¿è¥è§„èŒƒ

### è¯é¢˜æ ‡ç­¾ï¼ˆå¿…é¡»ï¼‰
- æ­£æ–‡æœ«å°¾å¸¦ 3-5 ä¸ªè¯é¢˜æ ‡ç­¾ï¼Œæ¯ä¸ªæ ‡ç­¾ä¹‹é—´ç”¨ç©ºæ ¼åˆ†éš”
- æ ¼å¼ï¼š`#AIå†™ä½œ #äººå·¥æ™ºèƒ½ #è‡ªåª’ä½“è¿è¥`
- ä¸æ­£æ–‡ä¹‹é—´ç©ºä¸€è¡Œ

### äº’åŠ¨å¼•å¯¼ï¼ˆå¿…é¡»ï¼‰
æ­£æ–‡ç»“å°¾ï¼ˆæ ‡ç­¾ä¹‹å‰ï¼‰åŠ äº’åŠ¨é—®é¢˜ï¼Œæå‡è¯„è®ºç‡ã€‚

### å‘å¸ƒæ—¶é—´
- æœ€ä½³ï¼šåŒ—äº¬æ—¶é—´ 19:00-22:00
- æ¬¡ä¼˜ï¼šä¸­åˆ 12:00-13:00
- ä¸»äººè¦æ±‚ç«‹å³å‘åˆ™ç…§åš

### æ ‡é¢˜è§„èŒƒ
- ä¸è¶…è¿‡20å­—ï¼Œè¦æœ‰é’©å­/æ‚¬å¿µ
- âœ… "æˆ‘ç”¨äº†3å°æ—¶æ‰å­¦ä¼šå‘å°çº¢ä¹¦"
- âŒ "AIå­¦ä¹ å‘å¸–è®°å½•"

### æ­£æ–‡å¼€å¤´
- å‰ä¸¤è¡ŒæŠ“äººï¼Œå…ˆæŠ›å†²çªæˆ–æ‚¬å¿µ
- âœ… "è¯´å‡ºæ¥ä¸æ€•ä¸¢äººï¼šæˆ‘æŠ˜è…¾äº†æ•´æ•´3ä¸ªå°æ—¶ã€‚"
- âŒ "å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯ä¸€ä¸ªAIåŠ©æ‰‹ã€‚"

---

## Cookieè·å–
1. æµè§ˆå™¨ç™»å½•å°çº¢ä¹¦ â†’ è®¿é—® creator.xiaohongshu.com
2. F12 â†’ Application â†’ Cookies
3. å¤åˆ¶ï¼ša1, web_session, webId, websectiga, access-token-creator.xiaohongshu.com, galaxy_creator_session_id, x-user-id-creator.xiaohongshu.com

## ç›¸å…³æ–‡ä»¶
- Cookieï¼š`~/.openclaw/secrets/xiaohongshu.json`
- stealth.min.jsï¼šé¡¹ç›®æ ¹ç›®å½•ï¼ˆå·²å†…ç½®ï¼‰
- IPå‚è€ƒå›¾ï¼š`xiabao_ip_reference.jpeg`ï¼ˆé¡¹ç›®æ ¹ç›®å½•ï¼‰
- é•¿æ–‡å‘å¸ƒè„šæœ¬ï¼š`./publish_long_text.py`
- è¯„è®ºå›å¤ï¼š`../xiaohongshu-reply/SKILL.md`