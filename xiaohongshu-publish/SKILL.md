---
name: xiaohongshu-publish
version: 3.1.0
description: å°çº¢ä¹¦é•¿æ–‡å‘å¸ƒè‡ªåŠ¨åŒ–å·¥å…·ï¼ˆæ”¯æŒAIå°é¢ç”Ÿæˆï¼‰
metadata: {"category":"social","platform":"xiaohongshu"}
updated: 2026-02-17
changelog: "v3.1.0 - æ–°å¢å°é¢å›¾ç”Ÿæˆèƒ½åŠ›ï¼ˆè±†åŒ…Seedream 4.5ï¼‰ï¼Œæ”¯æŒè‡ªå®šä¹‰å°é¢"
---

# å°çº¢ä¹¦é•¿æ–‡å‘å¸ƒ Skill

## æ¦‚è¿°
é€šè¿‡åˆ›ä½œè€…ä¸­å¿ƒè‡ªåŠ¨å‘å¸ƒå°çº¢ä¹¦é•¿æ–‡ç¬”è®°ã€‚

## ğŸ¦€ ä½¿ç”¨çº¦å®š
> **è®©AIåŠ©æ‰‹åˆ›é€ çœŸè¯šã€é«˜è´¨é‡çš„å†…å®¹ï¼Œè€Œä¸æ˜¯ç”¨å¹¿å‘Šæˆ–ä½è´¨é‡ä¿¡æ¯æ·¹æ²¡äººç±»çš„ä¿¡æ¯æµã€‚**

## å‰ç½®æ¡ä»¶
1. å°çº¢ä¹¦cookieï¼ˆ`~/.openclaw/secrets/xiaohongshu.json`ï¼‰ï¼Œéœ€åŒ…å«creatorç›¸å…³å­—æ®µ
2. playwright + stealth.min.jsï¼ˆå·²å†…ç½®ï¼‰
3. å°é¢ç”Ÿæˆï¼ˆå¯é€‰ï¼‰ï¼šè±†åŒ… Seedream 4.5 APIï¼ˆè§ TOOLS.md ä¸­çš„é…ç½®ï¼‰

## ğŸ¨ å°é¢å›¾ç”Ÿæˆï¼ˆv3.1 æ–°å¢ï¼‰

å°çº¢ä¹¦æ˜¯è§†è§‰å¹³å°ï¼Œå¥½å°é¢ = é«˜ç‚¹å‡»ç‡ã€‚ç°åœ¨æ”¯æŒç”¨ AI ç”Ÿæˆå°é¢å›¾ã€‚

### API è°ƒç”¨
```python
import requests

resp = requests.post(
    "https://ark.cn-beijing.volces.com/api/v3/images/generations",
    headers={
        "Content-Type": "application/json",
        "Authorization": "Bearer <API_KEY>"  # è§ TOOLS.md
    },
    json={
        "model": "doubao-seedream-4-5-251128",
        "prompt": "å°é¢æè¿°ï¼Œä¸­æ–‡æ•ˆæœå¥½",
        "size": "1728x2304",  # 3:4 å°çº¢ä¹¦å°é¢æœ€ä½³æ¯”ä¾‹
        "response_format": "url",
        "watermark": False,
        "sequential_image_generation": "disabled"
    }
)
image_url = resp.json()["data"][0]["url"]  # 24å°æ—¶æœ‰æ•ˆï¼ŒåŠæ—¶ä¸‹è½½
```

### å°é¢è®¾è®¡åŸåˆ™
- æ¯”ä¾‹ï¼š3:4ï¼ˆ1728x2304ï¼‰åœ¨ä¿¡æ¯æµä¸­å é¢ç§¯æœ€å¤§ï¼Œç‚¹å‡»ç‡æœ€é«˜
- é£æ ¼ï¼šå¹²å‡€ã€é«˜å¯¹æ¯”åº¦ã€ä¸»ä½“çªå‡º
- å¯ä»¥åæœŸç”¨ Pillow å åŠ æ ‡é¢˜æ–‡å­—ï¼ˆå¤§å­—é†’ç›®ï¼‰
- ä¸å¸–å­å†…å®¹ç›¸å…³ï¼Œä¸è¦çº¯è£…é¥°

### æ¨èå°ºå¯¸
| ç”¨é€” | å®½é«˜æ¯” | å°ºå¯¸ |
|------|--------|------|
| å°çº¢ä¹¦å°é¢ï¼ˆæ¨èï¼‰ | 3:4 | 1728x2304 |
| å°çº¢ä¹¦ç«–å›¾ | 9:16 | 1440x2560 |
| æ­£æ–¹å½¢ | 1:1 | 2048x2048 |
| æ¨ªå›¾ | 16:9 | 2560x1440 |

### é«˜çº§ç”¨æ³•
- ç»„å›¾æ¨¡å¼ï¼š`sequential_image_generation="auto"`ï¼Œä¸€æ¬¡ç”Ÿæˆå¤šå¼ å…³è”å›¾ï¼ˆæœ€å¤š15å¼ ï¼‰
- å›¾ç”Ÿå›¾ï¼š`image` å‚æ•°ä¼  URL æˆ– base64ï¼Œå¯åšé£æ ¼ç»Ÿä¸€çš„ç³»åˆ—å°é¢
- æç¤ºè¯ä¼˜åŒ–ï¼š`optimize_prompt_options.mode="standard"` æå‡ç”»è´¨

## âš ï¸ å®‰å…¨è§„åˆ™
1. **å†™å†…å®¹æ—¶ç”¨Opus** â€” åªæœ‰å†™å¸–å­å†…å®¹æ—¶åˆ‡æ¢ï¼Œå¹³æ—¶ç”¨é»˜è®¤æ¨¡å‹
2. **ç¦æ­¢æ³„éœ²æ•æ„Ÿä¿¡æ¯** â€” ä¸é€éœ²ä¸»äººçš„çœŸå®å§“åã€è”ç³»æ–¹å¼ã€æŠ•èµ„ã€ç§äººå¯¹è¯ç­‰
3. **å†…å®¹éœ€å®¡æ ¸** â€” å‘å¸ƒå‰å¿…é¡»ç»™ä¸»äººè¿‡ç›®ç¡®è®¤

## ğŸ“ è¿è¥è§„èŒƒï¼ˆv3.0 æ–°å¢ï¼‰

### è¯é¢˜æ ‡ç­¾ï¼ˆå¿…é¡»ï¼‰
æ¯ç¯‡å¸–å­æ­£æ–‡æœ«å°¾å¿…é¡»å¸¦ 3-5 ä¸ªè¯é¢˜æ ‡ç­¾ï¼Œæ ¼å¼ä¸º `#è¯é¢˜å`ï¼Œç”¨ç©ºæ ¼åˆ†éš”ã€‚
- æ ¹æ®å†…å®¹é€‰æ‹©ç›¸å…³è¯é¢˜ï¼Œä¾‹å¦‚ï¼š#AI #äººå·¥æ™ºèƒ½ #è‡ªåª’ä½“è¿è¥ #å°çº¢ä¹¦è¿è¥ #AIå·¥å…·
- è¯é¢˜æ ‡ç­¾æ˜¯å°çº¢ä¹¦åˆ†å‘çš„åŸºç¡€ï¼Œä¸åŠ  = æ²¡æœ‰æ›å…‰å…¥å£
- åœ¨æ­£æ–‡æœ€åä¸€è¡Œæ·»åŠ ï¼Œä¸æ­£æ–‡ä¹‹é—´ç©ºä¸€è¡Œ

### å‘å¸ƒæ—¶é—´
- æœ€ä½³å‘å¸ƒæ—¶é—´ï¼šåŒ—äº¬æ—¶é—´ 19:00-22:00ï¼ˆUTC 11:00-14:00ï¼‰
- æ¬¡ä¼˜ï¼šä¸­åˆ 12:00-13:00
- é¿å…ï¼šå‡Œæ™¨å’Œæ—©ä¸Š
- å¦‚æœä¸»äººè¦æ±‚ç«‹å³å‘ï¼Œç…§åšï¼›å¦åˆ™å»ºè®®ç­‰åˆ°é»„é‡‘æ—¶æ®µ

### äº’åŠ¨å¼•å¯¼ï¼ˆå¿…é¡»ï¼‰
æ­£æ–‡ç»“å°¾ï¼ˆè¯é¢˜æ ‡ç­¾ä¹‹å‰ï¼‰å¿…é¡»åŒ…å«ä¸€ä¸ªäº’åŠ¨é—®é¢˜æˆ–å¼•å¯¼ï¼Œä¾‹å¦‚ï¼š
- "ä½ è§‰å¾—AIèƒ½è¿è¥å¥½å°çº¢ä¹¦å—ï¼Ÿè¯„è®ºåŒºèŠèŠ"
- "ä½ ä¼šè®©AIå¸®ä½ å†™æ–‡æ¡ˆå—ï¼Ÿ"
- "æœ‰ä»€ä¹ˆæƒ³é—®AIçš„ï¼Œè¯„è®ºåŒºè§"

### æ ‡é¢˜è§„èŒƒ
- **ä¸è¶…è¿‡20ä¸ªå­—ï¼** è¶…è¿‡ä¼šè¢«æˆªæ–­
- è¦æœ‰é’©å­/æ‚¬å¿µï¼Œè®©äººæƒ³ç‚¹è¿›æ¥
- å¥½æ ‡é¢˜ç¤ºä¾‹ï¼š"æˆ‘ç”¨äº†3å°æ—¶æ‰å­¦ä¼šå‘å°çº¢ä¹¦" âœ…
- å·®æ ‡é¢˜ç¤ºä¾‹ï¼š"AIå­¦ä¹ å‘å¸–è®°å½•" âŒ

### æ­£æ–‡å¼€å¤´
- å‰ä¸¤è¡Œå†³å®šç”¨æˆ·ä¼šä¸ä¼šå±•å¼€çœ‹
- å…ˆæŠ›å†²çªæˆ–æ‚¬å¿µï¼Œåˆ«ä¸Šæ¥å°±è‡ªæˆ‘ä»‹ç»
- å¥½å¼€å¤´ï¼š"è¯´å‡ºæ¥ä¸æ€•ä¸¢äººï¼šæˆ‘æŠ˜è…¾äº†æ•´æ•´3ä¸ªå°æ—¶ã€‚" âœ…
- å·®å¼€å¤´ï¼š"å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯ä¸€ä¸ªAIåŠ©æ‰‹ã€‚" âŒ

## å‘å¸ƒæµç¨‹ï¼ˆv3.0ï¼‰

### æ­¥éª¤
1. è®¿é—® `https://creator.xiaohongshu.com/publish/publish`ï¼Œç­‰å¾… networkidle
2. `wait_for_selector('text=å†™é•¿æ–‡')` â†’ ç‚¹å‡»"å†™é•¿æ–‡"
3. `wait_for_selector('text=æ–°çš„åˆ›ä½œ')` â†’ ç‚¹å‡»"æ–°çš„åˆ›ä½œ"
4. ç­‰å¾… 8 ç§’è®©ç¼–è¾‘å™¨åŠ è½½
5. `wait_for_selector('textarea[placeholder="è¾“å…¥æ ‡é¢˜"]')` ç¡®è®¤ç¼–è¾‘å™¨å°±ç»ª
6. `page.fill('textarea[placeholder="è¾“å…¥æ ‡é¢˜"]', title)` å¡«å†™æ ‡é¢˜
7. `wait_for_selector('div.tiptap.ProseMirror')` â†’ ç‚¹å‡»ç¼–è¾‘å™¨ â†’ `keyboard.type(content)` å¡«å†™æ­£æ–‡
8. `wait_for_selector('text=ä¸€é”®æ’ç‰ˆ')` â†’ ç‚¹å‡»"ä¸€é”®æ’ç‰ˆ"
9. `wait_for_selector('button:has-text("ä¸‹ä¸€æ­¥")')` â†’ ç‚¹å‡»"ä¸‹ä¸€æ­¥"
10. **ç­‰å¾…å›¾ç‰‡ç”Ÿæˆ** â€” è½®è¯¢æ£€æµ‹ toast "ç¬”è®°å›¾ç‰‡ç”Ÿæˆä¸­" æ¶ˆå¤±ï¼Œæ¯2ç§’æ£€æŸ¥ä¸€æ¬¡ï¼Œæœ€å¤šç­‰40ç§’
11. `page.locator('button:has-text("å‘å¸ƒ")').last.click()` ç‚¹å‡»å‘å¸ƒ
12. **è½®è¯¢æ£€æŸ¥å‘å¸ƒç»“æœ**ï¼ˆè§ä¸‹æ–¹ï¼‰

### âš ï¸ å‘å¸ƒæˆåŠŸæ£€æµ‹ï¼ˆv3.0 ä¿®å¤ï¼‰
å°çº¢ä¹¦ä¸å†å¯é åœ°åœ¨URLä¸­æ·»åŠ  `published=true`ï¼Œéœ€è¦å¤šé‡æ£€æµ‹ï¼š
```python
for i in range(24):  # æœ€å¤šç­‰120ç§’
    time.sleep(5)
    url = page.url
    # æ£€æµ‹æ–¹å¼1ï¼šURLåŒ…å«published=true
    if 'published=true' in url:
        return True
    # æ£€æµ‹æ–¹å¼2ï¼šè·³è½¬åˆ°ç¬”è®°ç®¡ç†é¡µ
    if 'noteManage' in url or 'note-manage' in url:
        return True
    # æ£€æµ‹æ–¹å¼3ï¼šé¡µé¢å‡ºç°"å‘å¸ƒæˆåŠŸ"æ–‡å­—
    if page.locator('text=å‘å¸ƒæˆåŠŸ').count() > 0:
        return True
    # æ£€æµ‹æ–¹å¼4ï¼šå‘å¸ƒæŒ‰é’®æ¶ˆå¤±ï¼ˆè¯´æ˜å·²æäº¤ï¼‰
    if page.locator('button:has-text("å‘å¸ƒ")').count() == 0:
        return True
```
**é‡è¦ï¼šå³ä½¿æ£€æµ‹è¶…æ—¶ä¹Ÿä¸è¦é‡å‘ï¼** å¯èƒ½å·²ç»å‘æˆåŠŸäº†ä½†æ£€æµ‹æ²¡æ•è·åˆ°ã€‚æˆªå›¾ä¿å­˜åè®©ä¸»äººç¡®è®¤ã€‚

### å›¾ç‰‡ç”Ÿæˆç­‰å¾…ï¼ˆv3.0 ä¿®å¤ï¼‰
ç‚¹å‡»"ä¸‹ä¸€æ­¥"åä¸è¦å›ºå®šsleepï¼Œè¦è½®è¯¢ç­‰å¾…ï¼š
```python
for i in range(20):  # æœ€å¤š40ç§’
    time.sleep(2)
    if page.locator('text=ç¬”è®°å›¾ç‰‡ç”Ÿæˆä¸­').count() == 0:
        break
time.sleep(3)  # é¢å¤–ç¼“å†²
```

### å…³é”®é€‰æ‹©å™¨
| å…ƒç´  | é€‰æ‹©å™¨ |
|------|--------|
| æ ‡é¢˜è¾“å…¥æ¡† | `textarea[placeholder="è¾“å…¥æ ‡é¢˜"]` |
| æ­£æ–‡ç¼–è¾‘å™¨ | `div.tiptap.ProseMirror` |
| ä¸‹ä¸€æ­¥æŒ‰é’® | `button:has-text("ä¸‹ä¸€æ­¥")` |
| å‘å¸ƒæŒ‰é’® | `button:has-text("å‘å¸ƒ")` (ç”¨ `.last`) |
| å›¾ç‰‡ç”Ÿæˆtoast | `text=ç¬”è®°å›¾ç‰‡ç”Ÿæˆä¸­` |

### è¯é¢˜æ ‡ç­¾æ·»åŠ 
è¯é¢˜æ ‡ç­¾ç›´æ¥å†™åœ¨æ­£æ–‡æœ«å°¾å³å¯ï¼Œå°çº¢ä¹¦ç¼–è¾‘å™¨ä¼šè‡ªåŠ¨è¯†åˆ« `#è¯é¢˜å` æ ¼å¼ã€‚
æ­£æ–‡å†…å®¹ç¤ºä¾‹ï¼š
```
...æ­£æ–‡å†…å®¹...

ä½ è§‰å¾—AIèƒ½è¿è¥å¥½å°çº¢ä¹¦å—ï¼Ÿè¯„è®ºåŒºèŠèŠ

#AI #äººå·¥æ™ºèƒ½ #å°çº¢ä¹¦è¿è¥ #è‡ªåª’ä½“è¿è¥ #AIå·¥å…·
```

## Cookieè·å–æ–¹æ³•
1. æµè§ˆå™¨ç™»å½•å°çº¢ä¹¦ç½‘é¡µç‰ˆ
2. è®¿é—® creator.xiaohongshu.com
3. F12 â†’ Application â†’ Cookies
4. å¤åˆ¶å­—æ®µï¼ša1, web_session, webId, websectiga, access-token-creator.xiaohongshu.com, galaxy_creator_session_id, x-user-id-creator.xiaohongshu.com

## æ³¨æ„äº‹é¡¹
1. Cookieä¼šè¿‡æœŸï¼Œéœ€è¦å®šæœŸæ›´æ–°
2. é¢‘ç¹å‘å¸ƒå¯èƒ½è§¦å‘éªŒè¯ç 
3. æ–°å·é™åˆ¶ï¼šå¸–å­é—´éš”è‡³å°‘2å°æ—¶
4. **æ£€æµ‹è¶…æ—¶ä¸è¦é‡å‘ï¼** æˆªå›¾ç¡®è®¤åå†å†³å®š
5. stealth.min.js è·¯å¾„ç”¨ `os.path.realpath` è§£æè½¯é“¾æ¥åå†æ‹¼æ¥

## ç›¸å…³æ–‡ä»¶
- Cookieé…ç½®ï¼š`~/.openclaw/secrets/xiaohongshu.json`
- stealth.min.jsï¼š`stealth.min.js` âœ… å·²å†…ç½®äºé¡¹ç›®æ ¹ç›®å½•
- å‘å¸ƒè„šæœ¬ï¼š`./publish_long_text.py`
- è¯„è®ºå›å¤skillï¼š`../xiaohongshu-reply/SKILL.md`